<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–°–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã ‚Äî –±–æ–≥–∞—á–µ (–±–ª—É–º/–≥–ª—è–Ω–µ—Ü/shine)</title>
  <style>
    :root{
      --bg:#070b1a;
      --text:#eaf0ff;
      --muted:#a9b6e6;

      --ok:#2dd27d;
      --bad:#ff4d4d;

      --accent:#6aa4ff;
      --accent2:#9b7bff;
      --accent3:#2dd27d;

      --radius: 18px;
      --radius2: 22px;

      /* —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç—ã x2 */
      --cardW: 320px;
      --cardH: 440px;

      --panel: rgba(255,255,255,.05);
      --border: rgba(255,255,255,.10);
      --border2: rgba(255,255,255,.14);

      --shadow: 0 18px 55px rgba(0,0,0,.42);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    html,body{height:100%}
    body{
      margin:0;color:var(--text);
      background:
        radial-gradient(1200px 700px at 10% 15%, rgba(106,164,255,.18) 0%, rgba(7,11,26,0) 55%),
        radial-gradient(900px 600px at 85% 20%, rgba(155,123,255,.14) 0%, rgba(7,11,26,0) 60%),
        radial-gradient(900px 700px at 55% 110%, rgba(45,210,125,.10) 0%, rgba(7,11,26,0) 55%),
        var(--bg);
      overflow-x:hidden;
    }

    /* –∑–≤–µ–∑–¥–Ω–∞—è –ø—ã–ª—å */
    body::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.25) 50%, rgba(255,255,255,0) 60%),
        radial-gradient(1px 1px at 30% 80%, rgba(255,255,255,.18) 50%, rgba(255,255,255,0) 60%),
        radial-gradient(1px 1px at 60% 30%, rgba(255,255,255,.20) 50%, rgba(255,255,255,0) 60%),
        radial-gradient(1px 1px at 85% 70%, rgba(255,255,255,.15) 50%, rgba(255,255,255,0) 60%),
        radial-gradient(1px 1px at 50% 55%, rgba(255,255,255,.12) 50%, rgba(255,255,255,0) 60%);
      opacity:.55;
      animation: twinkle 4.5s ease-in-out infinite;
      filter: blur(.2px);
      z-index:0;
    }
    @keyframes twinkle{0%,100%{opacity:.45}50%{opacity:.7}}

    /* –±–ª–æ–±—ã */
    .blob{
      position:fixed; width:540px;height:540px;border-radius:50%;
      filter: blur(46px);
      opacity:.22;
      pointer-events:none;
      mix-blend-mode:screen;
      z-index:0;
      animation: floaty 12s ease-in-out infinite;
    }
    .blob.b1{left:-180px;top:-130px;background:radial-gradient(circle at 30% 30%, rgba(106,164,255,.9), rgba(106,164,255,0) 60%); animation-duration:13s}
    .blob.b2{right:-220px;top:-90px;background:radial-gradient(circle at 30% 30%, rgba(155,123,255,.9), rgba(155,123,255,0) 60%); animation-duration:15s}
    .blob.b3{left:12%;bottom:-280px;background:radial-gradient(circle at 30% 30%, rgba(45,210,125,.9), rgba(45,210,125,0) 60%); animation-duration:17s}
    @keyframes floaty{
      0%{transform:translate(0,0) scale(1)}
      50%{transform:translate(20px,-18px) scale(1.05)}
      100%{transform:translate(0,0) scale(1)}
    }

    .wrap{max-width:1080px;margin:0 auto;padding:18px; position:relative; z-index:1;}
    .topbar{
      display:flex;gap:14px;align-items:center;justify-content:space-between;flex-wrap:wrap;
      padding:14px 16px;
      background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border:1px solid var(--border);
      border-radius:var(--radius2);
      box-shadow:var(--shadow2);
      backdrop-filter: blur(10px);
    }
    .left{display:flex;flex-direction:column;gap:6px}
    .title{font-weight:900;font-size:16px;letter-spacing:.2px}
    .subtitle{color:var(--muted);font-size:12.5px}

    .right{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .mini{font-size:13px;color:var(--muted)}
    .counter{font-size:13px;color:var(--muted)}
    .progress{
      width:220px;height:10px;border-radius:999px;overflow:hidden;
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
    }
    .bar{
      height:100%;width:0%;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      transition:width .25s ease;
    }
    .dots{display:flex;gap:6px;align-items:center}
    .dots .d{
      width:8px;height:8px;border-radius:999px;
      background:rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.12);
      opacity:.85;
      transition:transform .18s ease, background .18s ease, opacity .18s ease;
    }
    .dots .d.done{
      background:linear-gradient(180deg, rgba(106,164,255,.95), rgba(155,123,255,.9));
      opacity:1;
    }
    .dots .d.current{
      transform:scale(1.35);
      background:rgba(255,255,255,.45);
      opacity:1;
    }

    .chip{
      padding:7px 10px;border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      font-size:12.5px;
      display:inline-flex;align-items:center;gap:6px;
      backdrop-filter: blur(10px);
    }
    .chip .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.18);box-shadow:0 0 0 3px rgba(255,255,255,.06)}
    .chip.fire .dot{background:rgba(255,180,60,.95);box-shadow:0 0 0 3px rgba(255,180,60,.18)}

    .grid{display:grid;grid-template-columns: 1fr 1.25fr;gap:16px;margin-top:16px}
    @media (max-width: 960px){.grid{grid-template-columns:1fr}}

    .panel{
      background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border:1px solid var(--border);
      border-radius:var(--radius2);
      box-shadow:var(--shadow2);
      overflow:hidden;
      backdrop-filter: blur(10px);
      position:relative;
    }
    #rightPanel{
      border-color: rgba(255,255,255,.14);
      box-shadow: 0 20px 70px rgba(0,0,0,.48);
    }
    .panel-header{
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.10);
      display:flex;justify-content:space-between;align-items:center;gap:10px;
    }
    .panel-header .h{font-weight:900;letter-spacing:.2px}
    .panel-body{padding:16px}

    /* ===== –ö–æ–ª–æ–¥–∞ ===== */
    .deck-wrap{
      position:relative;
      min-height:560px;
      display:flex;align-items:center;justify-content:center;
      border-radius:var(--radius2);
      background:
        radial-gradient(800px 520px at 50% 40%, rgba(106,164,255,.10), rgba(0,0,0,0) 60%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px dashed rgba(255,255,255,.20);
      cursor:pointer; user-select:none;
      transition:transform .08s ease, border-color .15s ease, box-shadow .2s ease;
      overflow:hidden;
    }
    .deck-wrap:hover{
      border-color:rgba(255,255,255,.40);
      box-shadow:
        0 0 0 6px rgba(106,164,255,.10),
        0 0 34px rgba(155,123,255,.10),
        0 0 0 1px rgba(255,255,255,.06) inset;
    }
    .deck-wrap:active{transform:translateY(1px) scale(.995)}

    .deck-stack{
      position:relative;
      width:var(--cardW);height:var(--cardH);
      filter: drop-shadow(0 22px 28px rgba(0,0,0,.45));
    }
    .deck-card{
      position:absolute; inset:0;
      border-radius:18px;
      background: var(--back, linear-gradient(135deg,#2b3f8f,#6aa4ff));
      background-size:cover;
      background-position:center;
      border:1px solid rgba(255,255,255,.16);
      box-shadow:
        0 16px 44px rgba(0,0,0,.42),
        0 0 40px rgba(106,164,255,.08);
      overflow:hidden;
    }
    /* –≥–ª—è–Ω–µ—Ü + shine –Ω–∞ —Ä—É–±–∞—à–∫–µ */
    .deck-card::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(500px 320px at 25% 20%, rgba(255,255,255,.18), rgba(255,255,255,0) 60%),
        radial-gradient(420px 320px at 85% 30%, rgba(155,123,255,.20), rgba(155,123,255,0) 60%);
      opacity:.50;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    .deck-card::after{
      content:"";
      position:absolute; inset:-40%;
      background:linear-gradient(120deg, rgba(255,255,255,0) 36%, rgba(255,255,255,.22) 50%, rgba(255,255,255,0) 64%);
      transform:translateX(-55%) rotate(10deg);
      animation: shine 3.2s ease-in-out infinite;
      opacity:.55;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    @keyframes shine{
      0%,55%{transform:translateX(-60%) rotate(10deg); opacity:.12}
      70%{opacity:.60}
      100%{transform:translateX(60%) rotate(10deg); opacity:.12}
    }
    .deck-card:nth-child(1){ transform: translate(0px,0px) rotate(-2deg); }
    .deck-card:nth-child(2){ transform: translate(10px,10px) rotate(1deg); opacity:.96; }
    .deck-card:nth-child(3){ transform: translate(20px,20px) rotate(3deg); opacity:.92; }

    .deck-labels{margin-top:14px;text-align:center;display:flex;flex-direction:column;gap:7px}
    .deck-labels .big{font-weight:950;font-size:16px}
    .deck-labels .small{color:var(--muted);font-size:13px}

    /* ===== –°—Ü–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞: –∫–∞—Ä—Ç–æ—á–∫–∞-–æ–±–æ—Ä–æ—Ç–µ–Ω—å ===== */
    .stage{
      min-height: 560px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .display-card{
      width:var(--cardW);
      height:var(--cardH);
      position:relative;
      transform-style:preserve-3d;
      will-change:transform;
      filter:
        drop-shadow(0 24px 55px rgba(0,0,0,.55))
        drop-shadow(0 0 26px rgba(106,164,255,.16))
        drop-shadow(0 0 36px rgba(155,123,255,.10));
    }

    .display-inner{
      position:absolute; inset:0;
      border-radius:18px;
      transform-style:preserve-3d;
      transition: transform 520ms cubic-bezier(.2,.9,.2,1);
    }

    .face{
      position:absolute; inset:0;
      border-radius:18px;
      backface-visibility:hidden;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
    }

    .back{
      background: var(--back, linear-gradient(135deg,#2b3f8f,#6aa4ff));
      background-size:cover;
      background-position:center;
    }

    .front{
      transform: rotateY(180deg);
      background:
        radial-gradient(900px 500px at 20% 20%, rgba(106,164,255,.18), rgba(0,0,0,0) 60%),
        radial-gradient(700px 520px at 90% 30%, rgba(155,123,255,.16), rgba(0,0,0,0) 60%),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    }

    /* ‚Äú–±–ª—É–º‚Äù –∏ –≥–ª—è–Ω–µ—Ü –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ */
    .front::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(520px 360px at 22% 20%, rgba(255,255,255,.20), rgba(255,255,255,0) 60%),
        radial-gradient(520px 360px at 85% 30%, rgba(155,123,255,.16), rgba(155,123,255,0) 62%);
      opacity:.55;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    .front::after{
      content:"";
      position:absolute; inset:-35%;
      background:linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.18) 50%, rgba(255,255,255,0) 65%);
      transform:translateX(-55%) rotate(10deg);
      opacity:0;
      pointer-events:none;
      mix-blend-mode:screen;
    }
    .display-card.shine .front::after{
      animation: frontShine 900ms ease-out;
    }
    @keyframes frontShine{
      0%{opacity:0; transform:translateX(-60%) rotate(10deg)}
      20%{opacity:.55}
      100%{opacity:0; transform:translateX(60%) rotate(10deg)}
    }

    /* —Ä–∞–º–∫–∞ */
    .frame{
      position:absolute; inset:10px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 0 0 1px rgba(0,0,0,.10) inset;
      pointer-events:none;
      z-index:2;
    }

    /* –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ */
    .front-content{
      position:absolute; inset:0;
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      z-index:3;
    }
    .front-top{
      display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap;
    }
    .badge{
      padding:7px 10px;border-radius:999px;
      font-size:12px;
      color:var(--text);
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(10px);
      display:inline-flex;align-items:center;gap:6px;
    }
    .badge.type{border-color:rgba(106,164,255,.28); background:rgba(106,164,255,.12)}
    .badge.id{opacity:.95}
    .badge.streak{border-color:rgba(255,180,60,.30); background:rgba(255,180,60,.10)}
    .badge.meta{border-color:rgba(255,255,255,.12); background:rgba(255,255,255,.06)}
    .badge strong{font-weight:900}

    .block{
      padding:12px 12px;
      border-radius:16px;
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
    }
    .block .label{font-size:12px;color:var(--muted);margin-bottom:8px}
    .block .content{font-size:17px;line-height:1.35}
    .block img{max-width:100%;border-radius:14px;border:1px solid rgba(255,255,255,.10)}
    audio{width:100%}

    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    input[type="text"]{
      flex:1;min-width:220px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.14);
      color:var(--text);
      border-radius:14px;
      padding:12px 12px;
      font-size:15px;
      outline:none;
      transition:border-color .15s ease, box-shadow .15s ease, transform .12s ease;
    }
    input[type="text"]:focus{
      border-color:rgba(106,164,255,.60);
      box-shadow:0 0 0 4px rgba(106,164,255,.14);
    }
    input[type="text"].ok{
      border-color: rgba(45,210,125,.65);
      box-shadow: 0 0 0 4px rgba(45,210,125,.14);
    }
    input[type="text"].bad{
      border-color: rgba(255,77,77,.65);
      box-shadow: 0 0 0 4px rgba(255,77,77,.12);
      animation: shake .25s ease-in-out 1;
    }
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      25%{transform:translateX(-4px)}
      50%{transform:translateX(4px)}
      75%{transform:translateX(-3px)}
    }

    .btn{
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
      font-size:14px;
      transition:transform .08s ease, background .15s ease, border-color .15s ease, box-shadow .2s ease;
      display:inline-flex; align-items:center; gap:8px;
      user-select:none;
    }
    .btn:hover{background:rgba(255,255,255,.10);border-color:rgba(255,255,255,.24)}
    .btn:active{transform:translateY(1px)}
    .btn[disabled]{opacity:.55; cursor:not-allowed; transform:none !important}

    .btn.primary{
      background:linear-gradient(90deg, rgba(106,164,255,.42), rgba(155,123,255,.34));
      border-color:rgba(106,164,255,.40);
      box-shadow: 0 10px 26px rgba(106,164,255,.14);
    }
    .btn.primary:hover{box-shadow:0 14px 34px rgba(106,164,255,.20)}
    .btn.secondary{background:rgba(255,255,255,.06)}
    .btn.ghost{background:transparent}

    .btn.pulse{
      animation: pulse 1.1s ease-in-out infinite;
      border-color: rgba(45,210,125,.45);
    }
    @keyframes pulse{
      0%{transform:translateY(0); box-shadow:0 0 0 0 rgba(45,210,125,.0)}
      50%{transform:translateY(-1px); box-shadow:0 0 0 10px rgba(45,210,125,.10)}
      100%{transform:translateY(0); box-shadow:0 0 0 0 rgba(45,210,125,.0)}
    }

    .feedback{
      display:none;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      font-size:14px;
      font-weight:950;
      margin-top:10px;
    }
    .feedback.ok{display:block;background:rgba(45,210,125,.14);border-color:rgba(45,210,125,.35);color:var(--ok)}
    .feedback.bad{display:block;background:rgba(255,77,77,.12);border-color:rgba(255,77,77,.35);color:var(--bad)}

    .muted{color:var(--muted);font-size:13px;line-height:1.35}
    .hidden{display:none !important}

    /* ===== –õ–µ—Ç–∞—é—â–∞—è –∫–∞—Ä—Ç–∞ ===== */
    .fly-layer{position:fixed; inset:0; pointer-events:none; z-index:999}
    .fly-card{
      position:absolute;
      width:var(--cardW); height:var(--cardH);
      transform-style:preserve-3d;
      will-change:transform;
      filter:
        drop-shadow(0 24px 55px rgba(0,0,0,.55))
        drop-shadow(0 0 26px rgba(106,164,255,.16))
        drop-shadow(0 0 36px rgba(155,123,255,.10));
    }
    .fly-inner{
      width:100%;height:100%;
      position:relative;
      transform-style:preserve-3d;
      border-radius:18px;
      overflow:hidden;
      box-shadow: 0 22px 55px rgba(0,0,0,.50);
    }
    .fly-face{
      position:absolute; inset:0;
      border-radius:18px;
      backface-visibility:hidden;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
    }
    .fly-back{
      background: var(--back, linear-gradient(135deg,#2b3f8f,#6aa4ff));
      background-size:cover;
      background-position:center;
    }
    .fly-front{
      transform: rotateY(180deg);
      background:
        radial-gradient(900px 500px at 20% 20%, rgba(106,164,255,.18), rgba(0,0,0,0) 60%),
        radial-gradient(700px 520px at 90% 30%, rgba(155,123,255,.16), rgba(0,0,0,0) 60%),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    }
    .fly-front::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(520px 360px at 22% 20%, rgba(255,255,255,.20), rgba(255,255,255,0) 60%),
        radial-gradient(520px 360px at 85% 30%, rgba(155,123,255,.16), rgba(155,123,255,0) 62%);
      opacity:.55;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    .fly-front::after{
      content:"";
      position:absolute; inset:-35%;
      background:linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.18) 50%, rgba(255,255,255,0) 65%);
      transform:translateX(-55%) rotate(10deg);
      opacity:0;
      pointer-events:none;
      mix-blend-mode:screen;
    }
    .fly-card.shine .fly-front::after{
      animation: frontShine 900ms ease-out;
    }

    /* —Ñ–∏–Ω–∞–ª */
    .end{display:none;padding:22px 16px; text-align:center;}
    .end .boom{font-size:46px}
    .end .h1{font-size:22px;font-weight:950;margin-top:10px}
    .end .p{color:var(--muted);margin-top:8px}
    .stats{margin-top:14px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  </style>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="left">
        <div class="title" id="uiTitle">–°–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã</div>
        <div class="subtitle" id="uiSubtitle">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–ª–æ–¥—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç—É</div>
      </div>

      <div class="right">
        <div class="mini" id="uiStepText">–ö–∞—Ä—Ç–∞ 0 –∏–∑ 0</div>
        <div class="counter" id="uiCounter">0 / 0</div>

        <div class="chip fire" title="–°–µ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤">
          <span class="dot"></span>
          <span>üî• –°–µ—Ä–∏—è: <b id="uiStreakNum">0</b></span>
        </div>

        <div class="progress" aria-label="–ü—Ä–æ–≥—Ä–µ—Å—Å">
          <div class="bar" id="uiBar"></div>
        </div>
        <div class="dots" id="uiDots" aria-label="–®–∞–≥–∏"></div>
      </div>
    </div>

    <div class="grid">
      <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
      <div class="panel" id="leftPanel">
        <div class="panel-header">
          <div class="h">–ö–æ–ª–æ–¥–∞</div>
          <button class="btn ghost" id="btnRestart">–°–Ω–∞—á–∞–ª–∞</button>
        </div>
        <div class="panel-body">
          <div class="deck-wrap" id="deck">
            <div>
              <div class="deck-stack" id="deckStack">
                <div class="deck-card"></div>
                <div class="deck-card"></div>
                <div class="deck-card"></div>
              </div>
              <div class="deck-labels">
                <div class="big" id="deckText">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É</div>
                <div class="small" id="deckHint">–ö–∞—Ä—Ç—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è</div>
              </div>
            </div>
          </div>
          <div class="muted" style="margin-top:12px" id="rulesHint"></div>
        </div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
      <div class="panel" id="rightPanel">
        <div class="panel-header">
          <div class="h">–ö–∞—Ä—Ç–∞</div>
          <div class="muted" id="cardMeta">‚Äî</div>
        </div>

        <div class="panel-body">
          <div class="stage">
            <!-- –û–î–ù–ê ‚Äú–∫–∞—Ä—Ç–∞‚Äù —Å–ø—Ä–∞–≤–∞: –≤–æ–ø—Ä–æ—Å/–≤–≤–æ–¥ –ø—Ä—è–º–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ -->
            <div class="display-card hidden" id="displayCard">
              <div class="display-inner" id="displayInner">
                <div class="face back" id="displayBack"></div>

                <div class="face front" id="displayFront">
                  <div class="frame"></div>
                  <div class="front-content">
                    <div class="front-top">
                      <div style="display:flex;gap:8px;flex-wrap:wrap">
                        <span class="badge type" id="badgeType"><strong>–¢–∏–ø</strong>: ‚Äî</span>
                        <span class="badge id" id="badgeId">ID: ‚Äî</span>
                        <span class="badge streak" id="badgeStreak">üî• –°–µ—Ä–∏—è: <b id="badgeStreakNum">0</b></span>
                      </div>
                      <span class="badge meta" id="badgeMeta">‚Äî</span>
                    </div>

                    <div class="block">
                      <div class="label">–ó–∞–¥–∞–Ω–∏–µ</div>
                      <div class="content" id="promptContent"></div>
                    </div>

                    <div class="block" id="answerBlock">
                      <div class="label" id="answerLabel">–û—Ç–≤–µ—Ç</div>

                      <div id="textAnswer" class="row hidden">
                        <input id="answerInput" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..." autocomplete="off" />
                        <button class="btn primary" id="btnCheck">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                        <button class="btn secondary" id="btnNext" disabled>‚û°Ô∏è –î–∞–ª—å—à–µ</button>
                      </div>

                      <div id="oralAnswer" class="row hidden">
                        <div class="muted" id="oralHint">–û—Ç–≤–µ—Ç—å—Ç–µ —É—Å—Ç–Ω–æ. –ó–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ ‚Äú–î–∞–ª—å—à–µ‚Äù.</div>
                        <button class="btn primary" id="btnNextOral">‚û°Ô∏è –î–∞–ª—å—à–µ</button>
                      </div>

                      <div class="feedback" id="feedback"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="emptyState" class="muted">
              –ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –∫–∞—Ä—Ç–∞ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –ø–æ –∫–æ–ª–æ–¥–µ.
            </div>

            <div id="endScreen" class="end">
              <div class="boom">üéâ</div>
              <div class="h1" id="endTitle">–ì–æ—Ç–æ–≤–æ!</div>
              <div class="p" id="endText">–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ –∫–∞—Ä—Ç—ã.</div>
              <div class="stats" id="endStats"></div>
              <div style="margin-top:16px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
                <button class="btn primary" id="btnRestart2">üîÑ –°—ã–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑</button>
              </div>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- —Å–ª–æ–π –¥–ª—è –ø–æ–ª—ë—Ç–∞ -->
  <div class="fly-layer" id="flyLayer"></div>

<script>
const CONFIG = {
  meta: { title: "–°–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã", subtitle: "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–ª–æ–¥—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç—É" },
  ui: { cardBackUrl: "" },

  settings: {
    preventRepeats: true,
    maxCardsToShow: 0,
    requiredCorrect: 0,
    enableAutoCheck: true,
    caseSensitive: false,
    trimAndNormalize: true,
    successText: "–í–µ—Ä–Ω–æ! –û—Ç–ª–∏—á–Ω–æ üëç",
    errorText: "–ü–æ—á—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ üôÇ",
    endTitle: "–ì–æ—Ç–æ–≤–æ!",
    endTextAll: "–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ –∫–∞—Ä—Ç—ã.",
    endTextCorrect: (n) => `–í—ã –Ω–∞–±—Ä–∞–ª–∏ ${n} –≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤!`,
  },

  cards: [
    { id:"c1", prompt:{type:"text", value:"–ü–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π: ¬´–Ø –ª—é–±–ª—é —É—á–∏—Ç—å—Å—è¬ª."}, answer:{type:"text", value:"I love to study"} },
    { id:"c2", prompt:{type:"image", value:"https://images.unsplash.com/photo-1520975682031-a2c4d8c8cc2d?w=1200&q=80&auto=format&fit=crop"}, answer:{type:"oral", value:""} },
    { id:"c3", prompt:{type:"audio", value:"https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3"}, answer:{type:"text", value:"t-rex"} }
  ]
};

const STATE = {
  deck: [],
  shown: 0,
  correct: 0,
  currentCard: null,
  started: false,
  busy: false,
  streak: 0,
  bestStreak: 0
};

/* UI refs */
const uiTitle = document.getElementById("uiTitle");
const uiSubtitle = document.getElementById("uiSubtitle");
const uiCounter = document.getElementById("uiCounter");
const uiStepText = document.getElementById("uiStepText");
const uiBar = document.getElementById("uiBar");
const uiDots = document.getElementById("uiDots");
const uiStreakNum = document.getElementById("uiStreakNum");

const deckEl = document.getElementById("deck");
const deckText = document.getElementById("deckText");
const deckHint = document.getElementById("deckHint");
const rulesHint = document.getElementById("rulesHint");
const deckStack = document.getElementById("deckStack");

const rightPanel = document.getElementById("rightPanel");
const cardMeta = document.getElementById("cardMeta");

const displayCard = document.getElementById("displayCard");
const displayInner = document.getElementById("displayInner");
const displayBack = document.getElementById("displayBack");

const emptyState = document.getElementById("emptyState");
const endScreen = document.getElementById("endScreen");
const endTitle = document.getElementById("endTitle");
const endText = document.getElementById("endText");
const endStats = document.getElementById("endStats");

const badgeType = document.getElementById("badgeType");
const badgeId = document.getElementById("badgeId");
const badgeStreakNum = document.getElementById("badgeStreakNum");
const badgeMeta = document.getElementById("badgeMeta");

const promptContent = document.getElementById("promptContent");
const answerLabel = document.getElementById("answerLabel");
const textAnswer = document.getElementById("textAnswer");
const oralAnswer = document.getElementById("oralAnswer");
const answerInput = document.getElementById("answerInput");
const btnCheck = document.getElementById("btnCheck");
const btnNext = document.getElementById("btnNext");
const btnNextOral = document.getElementById("btnNextOral");
const feedback = document.getElementById("feedback");

const btnRestart = document.getElementById("btnRestart");
const btnRestart2 = document.getElementById("btnRestart2");

const flyLayer = document.getElementById("flyLayer");

/* helpers */
function applyCardBack() {
  const url = (CONFIG.ui.cardBackUrl || "").trim();

  // –∫–æ–ª–æ–¥–∞
  deckStack.querySelectorAll(".deck-card").forEach(c => {
    if (url) c.style.setProperty("--back", `url("${url}")`);
    else c.style.removeProperty("--back");
  });

  // –∫–∞—Ä—Ç–∞ —Å–ø—Ä–∞–≤–∞ (back face)
  if (url) {
    displayCard.style.setProperty("--back", `url("${url}")`);
  } else {
    displayCard.style.removeProperty("--back");
  }
}

function normalize(s){
  if (s == null) return "";
  let out = String(s);
  if (CONFIG.settings.trimAndNormalize) out = out.trim().replace(/\s+/g," ");
  if (!CONFIG.settings.caseSensitive) out = out.toLowerCase();
  return out;
}

function typeLabel(t){
  if (t==="text") return "–¢–µ–∫—Å—Ç";
  if (t==="image") return "–ö–∞—Ä—Ç–∏–Ω–∫–∞";
  if (t==="audio") return "–ê—É–¥–∏–æ";
  return "‚Äî";
}

function getMaxToShow(){
  const m = Number(CONFIG.settings.maxCardsToShow || 0);
  if (m > 0) return Math.min(m, CONFIG.cards.length);
  return CONFIG.cards.length;
}

function renderDots(){
  const maxToShow = getMaxToShow();
  uiDots.innerHTML = "";
  for (let i=0;i<maxToShow;i++){
    const d = document.createElement("div");
    d.className = "d";
    uiDots.appendChild(d);
  }
}

function updateStreakUI(){
  uiStreakNum.textContent = String(STATE.streak);
  badgeStreakNum.textContent = String(STATE.streak);
}

function updateProgressUI(){
  const maxToShow = getMaxToShow();
  const shown = Math.min(STATE.shown, maxToShow);

  uiCounter.textContent = `${shown} / ${maxToShow}`;
  uiStepText.textContent = `–ö–∞—Ä—Ç–∞ ${shown} –∏–∑ ${maxToShow}`;

  const p = maxToShow > 0 ? (shown / maxToShow) * 100 : 0;
  uiBar.style.width = `${p}%`;

  const dots = uiDots.querySelectorAll(".d");
  dots.forEach((d,i)=>{
    d.classList.remove("done","current");
    if (i < shown) d.classList.add("done");
    if (i === shown && shown < maxToShow) d.classList.add("current");
  });

  deckText.textContent = (STATE.shown >= maxToShow) ? "–ö–æ–ª–æ–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞" : (STATE.shown===0 ? "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É" : "–°–ª–µ–¥—É—é—â–∞—è –∫–∞—Ä—Ç–∞");
}

function resetAnswerUI(){
  feedback.className = "feedback";
  feedback.textContent = "";
  btnNext.disabled = true;
  btnNext.classList.remove("pulse");
  answerInput.value = "";
  answerInput.classList.remove("ok","bad");
}

function resetRightStateToEmpty(){
  displayCard.classList.add("hidden");
  emptyState.classList.remove("hidden");
  endScreen.style.display = "none";
  cardMeta.textContent = "‚Äî";
}

function resetGame(){
  STATE.deck = CONFIG.cards.map((_,i)=>i);
  STATE.shown = 0;
  STATE.correct = 0;
  STATE.currentCard = null;
  STATE.started = false;
  STATE.busy = false;
  STATE.streak = 0;
  STATE.bestStreak = 0;

  resetAnswerUI();
  updateStreakUI();
  renderDots();
  updateProgressUI();

  resetRightStateToEmpty();
  emptyState.textContent = "–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –∫–∞—Ä—Ç–∞ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –ø–æ –∫–æ–ª–æ–¥–µ.";

  deckHint.textContent = CONFIG.settings.preventRepeats ? "–ö–∞—Ä—Ç—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è" : "–ü–æ–≤—Ç–æ—Ä—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã";
  const maxInfo = (CONFIG.settings.maxCardsToShow && CONFIG.settings.maxCardsToShow > 0)
    ? `–û—Ç–∫—Ä–æ–µ–º ${CONFIG.settings.maxCardsToShow} –∫–∞—Ä—Ç(—ã).`
    : `–û—Ç–∫—Ä–æ–µ–º –≤—Å–µ –∫–∞—Ä—Ç—ã: ${CONFIG.cards.length}.`;
  const goalInfo = (CONFIG.settings.requiredCorrect && CONFIG.settings.requiredCorrect > 0)
    ? `–¶–µ–ª—å: ${CONFIG.settings.requiredCorrect} –≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.`
    : "–¶–µ–ª–∏ –ø–æ –≤–µ—Ä–Ω—ã–º –æ—Ç–≤–µ—Ç–∞–º –Ω–µ—Ç.";
  rulesHint.textContent = `${maxInfo} ${goalInfo}`;

  deckText.textContent = "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É";
}

function drawRandomCard(){
  const allowRepeats = !CONFIG.settings.preventRepeats;
  if (allowRepeats) return CONFIG.cards[Math.floor(Math.random()*CONFIG.cards.length)];
  if (STATE.deck.length===0) return null;
  const r = Math.floor(Math.random()*STATE.deck.length);
  const idx = STATE.deck.splice(r,1)[0];
  return CONFIG.cards[idx];
}

/* render front content on the card itself */
function renderCardOnFront(card){
  STATE.currentCard = card;

  const pType = card.prompt?.type || "text";
  const aType = card.answer?.type || "oral";

  cardMeta.textContent = `ID: ${card.id || "‚Äî"} ‚Ä¢ ${typeLabel(pType)}`;
  badgeId.textContent = `ID: ${card.id || "‚Äî"}`;
  badgeType.innerHTML = `<strong>–¢–∏–ø</strong>: ${typeLabel(pType)}`;
  badgeMeta.textContent = (aType==="text") ? "‚úçÔ∏è –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç" : "üó£Ô∏è –£—Å—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç";

  promptContent.innerHTML = "";
  if (pType === "text"){
    promptContent.textContent = card.prompt.value || "";
  } else if (pType === "image"){
    const img = document.createElement("img");
    img.alt = "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è";
    img.src = card.prompt.value || "";
    promptContent.appendChild(img);
  } else if (pType === "audio"){
    const a = document.createElement("audio");
    a.controls = true;
    a.src = card.prompt.value || "";
    promptContent.appendChild(a);
  } else {
    promptContent.textContent = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –∑–∞–¥–∞–Ω–∏—è";
  }

  resetAnswerUI();
  updateStreakUI();

  if (aType === "text"){
    answerLabel.textContent = "–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç";
    textAnswer.classList.remove("hidden");
    oralAnswer.classList.add("hidden");
    btnCheck.style.display = CONFIG.settings.enableAutoCheck ? "inline-flex" : "none";
    btnNext.disabled = !!CONFIG.settings.enableAutoCheck;
    if (!CONFIG.settings.enableAutoCheck) btnNext.disabled = false;
    setTimeout(()=>answerInput.focus(), 0);
  } else {
    answerLabel.textContent = "–£—Å—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç";
    textAnswer.classList.add("hidden");
    oralAnswer.classList.remove("hidden");
  }

  // shine –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
  displayCard.classList.remove("shine");
  void displayCard.offsetWidth;
  displayCard.classList.add("shine");
}

/* animation */
function getCenterRect(el){
  const r = el.getBoundingClientRect();
  return { x: r.left + r.width/2, y: r.top + r.height/2, w:r.width, h:r.height };
}

function createFlyingCardEl(){
  const fly = document.createElement("div");
  fly.className = "fly-card";

  const inner = document.createElement("div");
  inner.className = "fly-inner";

  const back = document.createElement("div");
  back.className = "fly-face fly-back";

  const front = document.createElement("div");
  front.className = "fly-face fly-front";

  const url = (CONFIG.ui.cardBackUrl || "").trim();
  if (url) fly.style.setProperty("--back", `url("${url}")`);

  inner.appendChild(back);
  inner.appendChild(front);
  fly.appendChild(inner);
  flyLayer.appendChild(fly);

  return { fly, inner };
}

async function animateDrawToRightPanel(){
  const start = getCenterRect(deckStack);
  const stage = rightPanel.querySelector(".stage");
  const end = getCenterRect(stage);

  const { fly, inner } = createFlyingCardEl();

  const W = parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--cardW")) || 320;
  const H = parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--cardH")) || 440;

  fly.style.left = (start.x - W/2) + "px";
  fly.style.top  = (start.y - H/2) + "px";

  fly.style.transform = `translate(0px,0px) rotateZ(-7deg) scale(1)`;
  inner.style.transform = `rotateY(0deg)`;

  const dx = (end.x - start.x) * 0.78;
  const dy = (end.y - start.y) * 0.30;

  // shine –Ω–∞ –ø–æ–ª–µ—Ç–µ
  fly.classList.remove("shine");
  void fly.offsetWidth;
  fly.classList.add("shine");

  const flight = fly.animate([
    { transform: `translate(0px,0px) rotateZ(-7deg) scale(1)` },
    { transform: `translate(${dx*0.55}px,${dy*0.30}px) rotateZ(2deg) scale(1.02)` },
    { transform: `translate(${dx}px,${dy}px) rotateZ(0deg) scale(1.03)` },
  ], { duration: 560, easing:"cubic-bezier(.2,.9,.2,1)", fill:"forwards" });

  const flip = inner.animate([
    { transform: "rotateY(0deg)" },
    { transform: "rotateY(180deg)" },
  ], { duration: 560, delay: 120, easing:"cubic-bezier(.2,.9,.2,1)", fill:"forwards" });

  await Promise.all([flight.finished, flip.finished]).catch(()=>{});
  fly.remove();
}

/* check/next/end */
function checkAnswer(){
  const card = STATE.currentCard;
  if (!card) return;

  const user = normalize(answerInput.value);
  const right = normalize(card.answer?.value || "");
  const ok = user.length>0 && user===right;

  answerInput.classList.remove("ok","bad");

  if (ok){
    feedback.className = "feedback ok";
    feedback.textContent = CONFIG.settings.successText || "–í–µ—Ä–Ω–æ";
    STATE.correct += 1;

    STATE.streak += 1;
    STATE.bestStreak = Math.max(STATE.bestStreak, STATE.streak);
    updateStreakUI();

    btnNext.disabled = false;
    btnNext.classList.add("pulse");
    answerInput.classList.add("ok");
  } else {
    feedback.className = "feedback bad";
    feedback.textContent = CONFIG.settings.errorText || "–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑";
    btnNext.disabled = true;
    btnNext.classList.remove("pulse");

    STATE.streak = 0;
    updateStreakUI();

    answerInput.classList.add("bad");
  }

  if (CONFIG.settings.requiredCorrect > 0 && STATE.correct >= CONFIG.settings.requiredCorrect){
    finishGame("correct");
  }
}

function finishGame(reason){
  // —Å–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É
  displayCard.classList.add("hidden");
  emptyState.classList.add("hidden");
  endScreen.style.display = "block";

  endTitle.textContent = CONFIG.settings.endTitle || "–ì–æ—Ç–æ–≤–æ!";
  if (reason === "correct"){
    const n = STATE.correct;
    endText.textContent = typeof CONFIG.settings.endTextCorrect === "function"
      ? CONFIG.settings.endTextCorrect(n)
      : `–í—ã –Ω–∞–±—Ä–∞–ª–∏ ${n} –≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤!`;
  } else {
    endText.textContent = CONFIG.settings.endTextAll || "–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ –∫–∞—Ä—Ç—ã.";
  }

  endStats.innerHTML = "";
  endStats.appendChild(statChip(`–û—Ç–∫—Ä—ã—Ç–æ: ${STATE.shown}/${getMaxToShow()}`));
  endStats.appendChild(statChip(`–í–µ—Ä–Ω—ã—Ö: ${STATE.correct}`));
  endStats.appendChild(statChip(`üî• –õ—É—á—à–∞—è —Å–µ—Ä–∏—è: ${STATE.bestStreak}`));
  endStats.appendChild(statChip(`–ü–æ–≤—Ç–æ—Ä—ã: ${CONFIG.settings.preventRepeats ? "–Ω–µ—Ç" : "–¥–∞"}`));

  cardMeta.textContent = "‚Äî";
}

function statChip(text){
  const d = document.createElement("div");
  d.className = "chip";
  d.innerHTML = `<span class="dot"></span><span>${text}</span>`;
  return d;
}

/* –ø–∞—Ä–∞–ª–ª–∞–∫—Å –Ω–∞ –∫–∞—Ä—Ç–µ —Å–ø—Ä–∞–≤–∞ */
(function attachParallax(){
  let raf=null;
  rightPanel.addEventListener("mousemove", (e)=>{
    if (displayCard.classList.contains("hidden")) return;
    const rect = displayCard.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;
    const dx = (e.clientX - cx) / rect.width;
    const dy = (e.clientY - cy) / rect.height;
    const rotY = dx * 7;
    const rotX = -dy * 6;
    if (raf) cancelAnimationFrame(raf);
    raf = requestAnimationFrame(()=>{
      displayCard.style.transform = `perspective(900px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
    });
  });
  rightPanel.addEventListener("mouseleave", ()=>{
    if (raf) cancelAnimationFrame(raf);
    displayCard.style.transform = `perspective(900px) rotateX(0deg) rotateY(0deg)`;
  });
})();

async function nextCard(){
  if (STATE.busy) return;
  if (endScreen.style.display === "block") return;

  const maxToShow = getMaxToShow();
  if (STATE.shown >= maxToShow) return finishGame("all");

  const card = drawRandomCard();
  if (!card) return finishGame("all");

  STATE.busy = true;

  // ‚úÖ —Å—Ä–∞–∑—É —É–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ (–±–µ–∑ –Ω–∞—Å–ª–æ–µ–Ω–∏—è)
  endScreen.style.display = "none";
  emptyState.classList.add("hidden");
  displayCard.classList.add("hidden");
  resetAnswerUI();
  promptContent.innerHTML = "";

  // –ø–æ–ª–µ—Ç + –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç
  await animateDrawToRightPanel();

  // –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—É —Å–ø—Ä–∞–≤–∞ —É–∂–µ ‚Äú–ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–æ–π‚Äù (—Ñ—Ä–æ–Ω—Ç)
  displayCard.classList.remove("hidden");
  displayInner.style.transform = "rotateY(180deg)";

  // –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä—è–º–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
  STATE.shown += 1;
  updateProgressUI();
  renderCardOnFront(card);

  STATE.busy = false;
}

/* init */
function init(){
  uiTitle.textContent = CONFIG.meta.title || "–°–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã";
  uiSubtitle.textContent = CONFIG.meta.subtitle || "";

  applyCardBack();
  renderDots();
  updateProgressUI();
  updateStreakUI();
  resetRightStateToEmpty();
  resetGame();
}

/* events */
deckEl.addEventListener("click", nextCard);
btnCheck.addEventListener("click", checkAnswer);
answerInput.addEventListener("keydown", (e)=>{
  if (e.key === "Enter"){
    if (btnCheck.style.display !== "none") checkAnswer();
    else nextCard();
  }
});
btnNext.addEventListener("click", nextCard);
btnNextOral.addEventListener("click", nextCard);

btnRestart.addEventListener("click", resetGame);
btnRestart2.addEventListener("click", resetGame);

init();
</script>
</body>
</html>
